# SQUID Proxy Pentesting Checklist & Commands

## üéØ What am I realistically expecting to find here?

‚≠ê After enumerating SQUID Proxy (port 3128/3129), I realistically expect to find:

- [ ] Open proxy configuration that allows unauthenticated usage
- [ ] Ability to connect to internal services/ports not otherwise exposed
- [ ] Ability to enumerate open ports on internal hosts via the proxy
- [ ] Access to internal web applications through the proxy
- [ ] Possible proxy misconfigurations revealing sensitive resources
- [ ] Evidence of filtering or ACLs restricting certain destinations
- [ ] Potential to pivot deeper into internal network segments


---

## ‚úÖ SQUID Pentest Checklist

- [ ] **Enumeration Using Curl**
    ```bash
    curl --proxy http://<PROXY_IP>:3128 http://<TARGET_IP>
    # Test other open ports through the proxy:
    curl --proxy http://<PROXY_IP>:3128 http://<TARGET_IP>:3306
    curl --proxy http://<PROXY_IP>:3128 http://<TARGET_IP>:8080
    ```

- [ ] **Enumeration Using spose**
    - Tool: [spose on GitHub](https://github.com/aancw/spose)
    ```bash
    python3 spose.py --proxy http://<PROXY_IP>:3128 --target <TARGET_IP>
    # Example Output:
    <TARGET_IP> 3306 seems OPEN
    <TARGET_IP> 8080 seems OPEN
    ```

- [ ] **Enumeration Using Nmap**
    - Use proxychains to scan through the proxy.
    - Update `/etc/proxychains.conf` with:
        ```
        socks5 <PROXY_IP> 3128
        # or
        http <PROXY_IP> 3129
        ```
    - Run Nmap through proxy:
        ```bash
        proxychains sudo nmap -sT -n -p3306,8080 <TARGET_IP> -Pn
        ```

- [ ] **Enumeration Using Web Browser**
    - If a webpage is found, configure your browser (e.g., FoxyProxy) to use:
        ```
        http://<PROXY_IP>:3128
        ```
    - Then navigate to:
        ```
        http://<PROXY_IP>:3128
        ```

---
